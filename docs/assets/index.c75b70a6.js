const mt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};mt();const I={};function ht(e){I.context=e}const gt=(e,t)=>e===t,G=Symbol("solid-proxy"),He=Symbol("solid-track"),fe={equals:gt};let qe=Je;const W={},j=1,me=2,We={owned:null,cleanups:null,context:null,owner:null};var v=null;let le=null,x=null,ie=null,T=null,A=null,Pe=0;function pe(e,t){const n=x,r=v,i=e.length===0?We:{owned:null,cleanups:null,context:null,owner:t||r};v=i,x=null;try{return Ne(()=>e(()=>Ie(i)),!0)}finally{x=n,v=r}}function Ae(e,t){t=t?Object.assign({},fe,t):fe;const n={value:e,observers:null,observerSlots:null,pending:W,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.pending!==W?n.pending:n.value)),Oe(n,i));return[Xe.bind(n),r]}function yt(e,t,n){const r=we(e,t,!0,j);X(r)}function U(e,t,n){const r=we(e,t,!1,j);X(r)}function bt(e,t,n){qe=St;const r=we(e,t,!1,j);r.user=!0,A?A.push(r):X(r)}function N(e,t,n){n=n?Object.assign({},fe,n):fe;const r=we(e,t,!0,0);return r.pending=W,r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,X(r),Xe.bind(r)}function Ke(e){if(ie)return e();let t;const n=ie=[];try{t=e()}finally{ie=null}return Ne(()=>{for(let r=0;r<n.length;r+=1){const i=n[r];if(i.pending!==W){const o=i.pending;i.pending=W,Oe(i,o)}}},!1),t}function Q(e){let t,n=x;return x=null,t=e(),x=n,t}function Ye(e){return v===null||(v.cleanups===null?v.cleanups=[e]:v.cleanups.push(e)),e}function Ve(){return x}function $t(e){const t=Symbol("context");return{id:t,Provider:vt(t),defaultValue:e}}function wt(e){let t;return(t=tt(v,e.id))!==void 0?t:e.defaultValue}function Qe(e){const t=N(e);return N(()=>ve(t()))}function Xe(){const e=le;if(this.sources&&(this.state||e)){const t=T;T=null,this.state===j||e?X(this):he(this),T=t}if(x){const t=this.observers?this.observers.length:0;x.sources?(x.sources.push(this),x.sourceSlots.push(t)):(x.sources=[this],x.sourceSlots=[t]),this.observers?(this.observers.push(x),this.observerSlots.push(x.sources.length-1)):(this.observers=[x],this.observerSlots=[x.sources.length-1])}return this.value}function Oe(e,t,n){if(ie)return e.pending===W&&ie.push(e),e.pending=t,t;if(e.comparator&&e.comparator(e.value,t))return t;let r=!1;return e.value=t,e.observers&&e.observers.length&&Ne(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i];r&&le.disposed.has(o),(r&&!o.tState||!r&&!o.state)&&(o.pure?T.push(o):A.push(o),o.observers&&Ze(o)),r||(o.state=j)}if(T.length>1e6)throw T=[],new Error},!1),t}function X(e){if(!e.fn)return;Ie(e);const t=v,n=x,r=Pe;x=v=e,_t(e,e.value,r),x=n,v=t}function _t(e,t,n){let r;try{r=e.fn(t)}catch(i){et(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?Oe(e,r):e.value=r,e.updatedAt=n)}function we(e,t,n,r=j,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:v,context:null,pure:n};return v===null||v!==We&&(v.owned?v.owned.push(o):v.owned=[o]),o}function oe(e){const t=le;if(e.state===0||t)return;if(e.state===me||t)return he(e);if(e.suspense&&Q(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Pe);)(e.state||t)&&n.push(e);for(let r=n.length-1;r>=0;r--)if(e=n[r],e.state===j||t)X(e);else if(e.state===me||t){const i=T;T=null,he(e,n[0]),T=i}}function Ne(e,t){if(T)return e();let n=!1;t||(T=[]),A?n=!0:A=[],Pe++;try{const r=e();return xt(n),r}catch(r){et(r)}finally{T=null,n||(A=null)}}function xt(e){T&&(Je(T),T=null),!e&&(A.length?Ke(()=>{qe(A),A=null}):A=null)}function Je(e){for(let t=0;t<e.length;t++)oe(e[t])}function St(e){let t,n=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[n++]=i:oe(i)}I.context&&ht();const r=e.length;for(t=0;t<n;t++)oe(e[t]);for(t=r;t<e.length;t++)oe(e[t])}function he(e,t){const n=le;e.state=0;for(let r=0;r<e.sources.length;r+=1){const i=e.sources[r];i.sources&&(i.state===j||n?i!==t&&oe(i):(i.state===me||n)&&he(i,t))}}function Ze(e){const t=le;for(let n=0;n<e.observers.length;n+=1){const r=e.observers[n];(!r.state||t)&&(r.state=me,r.pure?T.push(r):A.push(r),r.observers&&Ze(r))}}function Ie(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),s=n.observerSlots.pop();r<i.length&&(o.sourceSlots[s]=r,i[r]=o,n.observerSlots[r]=s)}}if(e.owned){for(t=0;t<e.owned.length;t++)Ie(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function et(e){throw e}function tt(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:tt(e.owner,t):void 0}function ve(e){if(typeof e=="function"&&!e.length)return ve(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=ve(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function vt(e){return function(n){let r;return yt(()=>r=Q(()=>(v.context={[e]:n.value},Qe(()=>n.children)))),r}}const kt=Symbol("fallback");function Fe(e){for(let t=0;t<e.length;t++)e[t]()}function Tt(e,t,n={}){let r=[],i=[],o=[],s=0,c=t.length>1?[]:null;return Ye(()=>Fe(o)),()=>{let u=e()||[],p,d;return u[He],Q(()=>{let y=u.length,w,S,k,m,$,g,b,P,C;if(y===0)s!==0&&(Fe(o),o=[],r=[],i=[],s=0,c&&(c=[])),n.fallback&&(r=[kt],i[0]=pe(ae=>(o[0]=ae,n.fallback())),s=1);else if(s===0){for(i=new Array(y),d=0;d<y;d++)r[d]=u[d],i[d]=pe(f);s=y}else{for(k=new Array(y),m=new Array(y),c&&($=new Array(y)),g=0,b=Math.min(s,y);g<b&&r[g]===u[g];g++);for(b=s-1,P=y-1;b>=g&&P>=g&&r[b]===u[P];b--,P--)k[P]=i[b],m[P]=o[b],c&&($[P]=c[b]);for(w=new Map,S=new Array(P+1),d=P;d>=g;d--)C=u[d],p=w.get(C),S[d]=p===void 0?-1:p,w.set(C,d);for(p=g;p<=b;p++)C=r[p],d=w.get(C),d!==void 0&&d!==-1?(k[d]=i[p],m[d]=o[p],c&&($[d]=c[p]),d=S[d],w.set(C,d)):o[p]();for(d=g;d<y;d++)d in k?(i[d]=k[d],o[d]=m[d],c&&(c[d]=$[d],c[d](d))):i[d]=pe(f);i=i.slice(0,s=y),r=u.slice(0)}return i});function f(y){if(o[d]=y,c){const[w,S]=Ae(d);return c[d]=S,t(u[d],w)}return t(u[d])}}}function l(e,t){return Q(()=>e(t||{}))}function de(){return!0}const Ct={get(e,t,n){return t===G?n:e.get(t)},has(e,t){return e.has(t)},set:de,deleteProperty:de,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:de,deleteProperty:de}},ownKeys(e){return e.keys()}};function Se(e){return(e=typeof e=="function"?e():e)==null?{}:e}function nt(...e){return new Proxy({get(t){for(let n=e.length-1;n>=0;n--){const r=Se(e[n])[t];if(r!==void 0)return r}},has(t){for(let n=e.length-1;n>=0;n--)if(t in Se(e[n]))return!0;return!1},keys(){const t=[];for(let n=0;n<e.length;n++)t.push(...Object.keys(Se(e[n])));return[...new Set(t)]}},Ct)}function O(e){const t="fallback"in e&&{fallback:()=>e.fallback};return N(Tt(()=>e.each,e.children,t||void 0))}function R(e){let t=!1;const n=N(()=>e.when,void 0,{equals:(r,i)=>t?r===i:!r==!i});return N(()=>{const r=n();if(r){const i=e.children;return(t=typeof i=="function"&&i.length>0)?Q(()=>i(r)):i}return e.fallback})}function rt(e){let t=!1;const n=Qe(()=>e.children),r=N(()=>{let i=n();Array.isArray(i)||(i=[i]);for(let o=0;o<i.length;o++){const s=i[o].when;if(s)return[o,s,i[o]]}return[-1]},void 0,{equals:(i,o)=>i[0]===o[0]&&(t?i[1]===o[1]:!i[1]==!o[1])&&i[2]===o[2]});return N(()=>{const[i,o,s]=r();if(i<0)return e.fallback;const c=s.children;return(t=typeof c=="function"&&c.length>0)?Q(()=>c(o)):c})}function se(e){return e}function B(e,t){return N(e,void 0,t?void 0:{equals:t})}function Pt(e,t,n){let r=n.length,i=t.length,o=r,s=0,c=0,u=t[i-1].nextSibling,p=null;for(;s<i||c<o;){if(t[s]===n[c]){s++,c++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===s){const d=o<r?c?n[c-1].nextSibling:n[o-c]:u;for(;c<o;)e.insertBefore(n[c++],d)}else if(o===c)for(;s<i;)(!p||!p.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[o-1]&&n[c]===t[i-1]){const d=t[--i].nextSibling;e.insertBefore(n[c++],t[s++].nextSibling),e.insertBefore(n[--o],d),t[i]=n[o]}else{if(!p){p=new Map;let f=c;for(;f<o;)p.set(n[f],f++)}const d=p.get(t[s]);if(d!=null)if(c<d&&d<o){let f=s,y=1,w;for(;++f<i&&f<o&&!((w=p.get(t[f]))==null||w!==d+y);)y++;if(y>d-c){const S=t[s];for(;c<d;)e.insertBefore(n[c++],S)}else e.replaceChild(n[c++],t[s++])}else s++;else t[s++].remove()}}}const ze="_$DX_DELEGATE";function At(e,t,n){let r;return pe(i=>{r=i,t===document?e():a(t,e(),t.firstChild?null:void 0,n)}),()=>{r(),t.textContent=""}}function h(e,t,n){const r=document.createElement("template");r.innerHTML=e;let i=r.content.firstChild;return n&&(i=i.firstChild),i}function _e(e,t=window.document){const n=t[ze]||(t[ze]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,Ot))}}function ge(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function it(e,t,n,r){r?Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n:Array.isArray(n)?e.addEventListener(t,i=>n[0](n[1],i)):e.addEventListener(t,n)}function a(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return ye(e,t,r,n);U(i=>ye(e,t(),i,n),r)}function Ot(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),I.registry&&!I.done&&(I.done=!0,document.querySelectorAll("[id^=pl-]").forEach(r=>r.remove()));n!==null;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r(i,e):r(e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function ye(e,t,n,r,i){for(I.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(I.context)return n;if(o==="number"&&(t=t.toString()),s){let c=n[0];c&&c.nodeType===3?c.data=t:c=document.createTextNode(t),n=q(e,n,r,c)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean"){if(I.context)return n;n=q(e,n,r)}else{if(o==="function")return U(()=>{let c=t();for(;typeof c=="function";)c=c();n=ye(e,c,n,r)}),()=>n;if(Array.isArray(t)){const c=[];if(ke(c,t,i))return U(()=>n=ye(e,c,n,r,!0)),()=>n;if(I.context){for(let u=0;u<c.length;u++)if(c[u].parentNode)return n=c}if(c.length===0){if(n=q(e,n,r),s)return n}else Array.isArray(n)?n.length===0?Me(e,c,r):Pt(e,n,c):(n&&q(e),Me(e,c));n=c}else if(t instanceof Node){if(I.context&&t.parentNode)return n=s?[t]:t;if(Array.isArray(n)){if(s)return n=q(e,n,r,t);q(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function ke(e,t,n){let r=!1;for(let i=0,o=t.length;i<o;i++){let s=t[i],c;if(s instanceof Node)e.push(s);else if(!(s==null||s===!0||s===!1))if(Array.isArray(s))r=ke(e,s)||r;else if((c=typeof s)=="string")e.push(document.createTextNode(s));else if(c==="function")if(n){for(;typeof s=="function";)s=s();r=ke(e,Array.isArray(s)?s:[s])||r}else e.push(s),r=!0;else e.push(document.createTextNode(s.toString()))}return r}function Me(e,t,n){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function q(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let s=t.length-1;s>=0;s--){const c=t[s];if(i!==c){const u=c.parentNode===e;!o&&!s?u?e.replaceChild(i,c):e.insertBefore(i,n):u&&c.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}const Nt=h("<code>[+Container]</code>"),je=h("<code>tables</code>"),It=h('<a class="text-indigo-600 underline" href="https://github.com/luketurner/paas-price-estimator">Github page</a>'),Et=h("<em>not</em>"),Dt=h(`<div class="my-2 text-slate-700"><ol class="m-4 ml-10 list-decimal"><li></li><li></li><li></li><li></li></ol><ol class="list-decimal ml-6"><li>The stack editor</li><li>The summary</li><li>The cost breakdown</li></ol><ol class="list-decimal ml-8"><li>For each container in the desired stack, scan the provider's pricing table for a matching container tier. A tier "matches" when it at has at least the desired number of CPUs, at least the desired memory, and the CPU type is "dedicated" if the desired container specifies a dedicated CPU. As a special case, if the desired container wants exactly one shared CPU, tiers with a partial dedicated CPU (e.g. 0.5 vCPUs) will match. </li><li>Use the pricing table to calculate the "base price" for a container of the matching tier, assuming 24/7 runtime during the month.</li><li>Calculate the price of any container addons (static IPv4 address, persistent SSD) and add them to the container's base price to determine the container's "total price."</li><li>Sum the total prices of all the containers from previous steps, and add the price for stack-wide bandwidth to produce the "total price" per month for the entire desired stack.</li><li>Apply any recurring free-tier credits to reduce the total price, producing an "adjusted total price" per month. (This is the price shown for the provider in the Summary.)</li><li>If the provider has a nonrecurring free-tier credit, divide that credit by the adjusted total price per month to calculate the total number of free months before the nonrecurring credits are exhausted.</li></ol><ol class="list-decimal ml-8"><li>Limited quantity of free containers (Fly, Heroku, Render)</li><li>Limited free monthly network bandwidth and/or storage (Fargate, Fly, GCP, Render)</li><li>Recurring (monthly) account credits you can use on anything (Railway)</li><li>Nonrecurring (one-time) account credit you can use on anything (Aptible, GCP)</li></ol><ul class="list-disc ml-8"><li>No support for variable/regional pricing. (When pricing is regional, prices from the US West region are used where possible.)</li><li>Some types of free tiers aren't included in estimates (many are, though -- see <!>).</li><li>Want to include more priceable features (certificates, backups, ephemeral storage, databases, etc.)</li></ul></div>`),Bt=h('<p class="my-2"></p>'),Ut=h('<button class="underline text-indigo-600"></button>'),Ft=h('<h2><span class="text-xl pr-2"></span></h2>'),zt=()=>(()=>{const e=Dt.cloneNode(!0),t=e.firstChild,n=t.firstChild,r=n.nextSibling,i=r.nextSibling,o=i.nextSibling,s=t.nextSibling,c=s.nextSibling,u=c.nextSibling,p=u.nextSibling,d=p.firstChild,f=d.nextSibling,y=f.firstChild,w=y.nextSibling;return w.nextSibling,a(e,l(_,{children:'PaaS Price Estimator is a tool for doing approximate, "back of the napkin" style estimation and comparison of prices across a variety of PaaS (Platform as a Service) vendors. For example, ever wondered whether an application would be cheaper on Render versus Fly.io? Or which vendors have the cheapest outbound network traffic? PaaS Price Estimator is designed to answer those types of questions.'}),t),a(e,l(_,{children:"The page you're looking at right now is like a combination help/manual/FAQ. You can use the table of contents below to navigate:"}),t),a(e,l(Z,{id:"toc",children:"Table of Contents"}),t),a(n,l(L,{id:"usage",children:"Usage guide"})),a(r,l(L,{id:"how",children:"How it works"})),a(i,l(L,{id:"free",children:"Free tier details"})),a(o,l(L,{id:"disclaimer",children:"Disclaimer / TODO"})),a(e,l(Z,{id:"usage",children:"Usage Guide"}),s),a(e,l(_,{children:"The app's main page is broken into three sections:"}),s),a(e,l(_,{get children(){return['How to use it: Add one or more containers to your "wishlist" (aka your "desired stack") by clicking the ',Nt.cloneNode(!0)," button in the stack editor. For each container, you can configure the desired CPU Type (shared vs. dedicated), number of CPUs, and amount of memory to estimate prices for. You can also specify the expected outbound network traffic for your stack and that will be incorporated into the estimate."]}}),c),a(e,l(_,{children:`If the provider doesn't support containers with exactly the specified CPU/memory, the next-highest scale container will be chosen. For example, if you request 3.5 GB of memory, you will see prices for 4 GB containers for some providers. Or, if you've requested a "shared" CPU, but a provider only offers dedicated CPUs, the estimation for that provider will use the smallest matching dedicated CPU offering.`}),c),a(e,l(_,{children:"You can also attach static IPs and SSD block storage to your containers, which will be factored into the prices shown in the app. If a provider doesn't offer the service (e.g. not all providers offer static IPs) then it won't be included in the estimate for that provider."}),c),a(e,l(_,{children:"Once you've added stuff to your desired stack, the Summary section will list estimates for how much it would all cost with the various PaaS providers. All estimates automatically update when you make changes to the desired stack."}),c),a(e,l(_,{children:"Click on a provider's name in the Summary section to view an itemized breakdown of the estimate for that provider. You can have multiple breakdowns open at once."}),c),a(e,l(_,{get children(){return[`If the "Include free-tier offerings in estimation" box is checked, the estimated prices will be discounted according to the providers' varying free tiers. Including free tiers in the estimates makes them more realistic, but they vary widely across providers and often have account-level limits, so I recommend checking the estimate both with and without free tiers to get the most useful aggregate comparison. See `,l(L,{id:"free",children:"Free tier details"})," for details on types of free tiers supported."]}}),c),a(e,l(_,{children:'Prices are hardcoded and may become outdated as provider prices change. Click the "tables" link under the site header to see pricing data used for each provider and the date that data was most recently collected/updated.'}),c),a(e,l(_,{children:"If you see any prices that are significantly wrong, feel free to open an issue in Github (link in the footer)."}),c),a(e,l(Z,{id:"how",children:"How it works"}),c),a(e,l(_,{get children(){return["PaaS Price Estimator is an entirely client-side application, meaning it runs directly in your browser and works without an Internet connection. The pricing tables for each provider are baked into the application itself. (All pricing table data are visible using the ",je.cloneNode(!0)," link under the site header.)"]}}),c),a(e,l(_,{children:"The underlying estimation algorithm to determine the price for a given provider is:"}),c),a(e,l(_,{children:'Information about the desired stack is stored in the URL (but not sent to any server.) URLs are "shareable" -- copy/paste the URL to share with your friends, or bookmark to remember your desired stack.'}),u),a(e,l(_,{get children(){return["PaaS Price Estimator is open source and MIT Licensed. For more details on how it works, visit the ",It.cloneNode(!0),"."]}}),u),a(e,l(Z,{id:"free",children:"Free tier details"}),u),a(e,l(_,{children:"Many providers have a limited free offering. PaaS Price Estimator makes a best-effort attempt to take free tiers into account."}),u),a(e,l(_,{children:"The following types of free tiers are supported:"}),u),a(e,l(_,{get children(){return["For detailed information on free tiers for each provider, visit the ",je.cloneNode(!0)," page."]}}),p),a(e,l(Z,{id:"disclaimer",children:"Disclaimer / TODO"}),p),a(e,l(_,{get children(){return["Be aware, PaaS Price Estimator is ",Et.cloneNode(!0)," expected to give perfect pricing information. Each PaaS provider has a slightly different set of offerings and different ways of pricing. I've attempted to unify it all in as consistent a model as possible, but there are necessarily gaps and inaccuracies. Use PaaS Price Estimator for rough estimates only, and go to the PaaS provider's own price calculators if you want a more accurate price (especially for AWS and GCP)."]}}),p),a(e,l(_,{children:"Some notable TODOs:"}),p),a(f,l(L,{id:"free",children:"Free tier details"}),w),e})(),_=e=>(()=>{const t=Bt.cloneNode(!0);return a(t,()=>e.children),t})(),L=e=>(()=>{const t=Ut.cloneNode(!0);return t.$$click=()=>jt(e.id),a(t,()=>e.children),t})(),Mt=()=>l(L,{id:"toc",children:"(back to top)"}),Z=e=>(()=>{const t=Ft.cloneNode(!0),n=t.firstChild;return a(n,()=>e.children),a(t,(()=>{const r=B(()=>e.id!=="toc",!0);return()=>r()&&l(Mt,{})})(),null),U(()=>ge(t,"id",e.id)),t})(),jt=e=>{const t=document.getElementById(e);console.log("node",e,t),t&&(document.documentElement.scrollTop=t.offsetTop)};_e(["click"]);const Ee=Symbol("store-raw"),be=Symbol("store-node"),Lt=Symbol("store-name");function ot(e,t){let n=e[G];if(!n){Object.defineProperty(e,G,{value:n=new Proxy(e,Ht)});const r=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let o=0,s=r.length;o<s;o++){const c=r[o];if(i[c].get){const u=i[c].get.bind(n);Object.defineProperty(e,c,{get:u})}}}return n}function K(e){return e!=null&&typeof e=="object"&&(e[G]||!e.__proto__||e.__proto__===Object.prototype||Array.isArray(e))}function Y(e,t=new Set){let n,r,i,o;if(n=e!=null&&e[Ee])return n;if(!K(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let s=0,c=e.length;s<c;s++)i=e[s],(r=Y(i,t))!==i&&(e[s]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const s=Object.keys(e),c=Object.getOwnPropertyDescriptors(e);for(let u=0,p=s.length;u<p;u++)o=s[u],!c[o].get&&(i=e[o],(r=Y(i,t))!==i&&(e[o]=r))}return e}function De(e){let t=e[be];return t||Object.defineProperty(e,be,{value:t={}}),t}function Te(e,t,n){return e[t]||(e[t]=ct(n,!0))}function Gt(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===G||t===be||t===Lt||(delete n.value,delete n.writable,n.get=()=>e[G][t]),n}function st(e){if(Ve()){const t=De(e);(t._||(t._=ct()))()}}function Rt(e){return st(e),Reflect.ownKeys(e)}function ct(e,t){const[n,r]=Ae(e,t?{internal:!0}:{equals:!1,internal:!0});return n.$=r,n}const Ht={get(e,t,n){if(t===Ee)return e;if(t===G)return n;if(t===He)return st(e);const r=De(e),i=r[t];let o=i?r[t]():e[t];if(t===be||t==="__proto__")return o;if(!i){const s=Object.getOwnPropertyDescriptor(e,t);Ve()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(s&&s.get)&&(o=Te(r,t,o)())}return K(o)?ot(o):o},set(){return!0},deleteProperty(){return!0},ownKeys:Rt,getOwnPropertyDescriptor:Gt};function V(e,t,n){if(e[t]===n)return;const r=e[t],i=e.length;n===void 0?delete e[t]:e[t]=n;let o=De(e),s;(s=Te(o,t,r))&&s.$(()=>n),Array.isArray(e)&&e.length!==i&&(s=Te(o,"length",i))&&s.$(e.length),(s=o._)&&s.$()}function lt(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];V(e,i,t[i])}}function qt(e,t){if(typeof t=="function"&&(t=t(e)),t=Y(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&V(e,n,i)}V(e,"length",r)}else lt(e,t)}function te(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const s=typeof r,c=Array.isArray(e);if(Array.isArray(r)){for(let u=0;u<r.length;u++)te(e,[r[u]].concat(t),n);return}else if(c&&s==="function"){for(let u=0;u<e.length;u++)r(e[u],u)&&te(e,[u].concat(t),n);return}else if(c&&s==="object"){const{from:u=0,to:p=e.length-1,by:d=1}=r;for(let f=u;f<=p;f+=d)te(e,[f].concat(t),n);return}else if(t.length>1){te(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let o=t[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=Y(o),r===void 0||K(i)&&K(o)&&!Array.isArray(o)?lt(i,o):V(e,r,o))}function at(e,t){const n=Y(e||{}),r=Array.isArray(n),i=ot(n);function o(...s){Ke(()=>{r&&s.length===1?qt(n,s[0]):te(n,s)})}return[i,o]}const $e=new WeakMap,dt={get(e,t){if(t===Ee)return e;const n=e[t];let r;return K(n)?$e.get(n)||($e.set(n,r=new Proxy(n,dt)),r):n},set(e,t,n){return V(e,t,Y(n)),!0},deleteProperty(e,t){return V(e,t,void 0),!0}};function ne(e){return t=>{if(K(t)){let n;(n=$e.get(t))||$e.set(t,n=new Proxy(t,dt)),e(n)}return t}}const Wt=()=>{const[e,t]=at({stack:{useFreeTier:!0,containers:[],network:{in:0,out:0}}}),n=()=>{const i=window.location.hash;try{i.length>1&&t(Vt(JSON.parse(atob(i.slice(1)))))}catch(o){console.error("unable to read hash",i,o)}};window.addEventListener("hashchange",n),Ye(()=>window.removeEventListener("hashchange",n)),n();const r=N(()=>JSON.stringify(Yt(e)));return bt(()=>{window.location.hash=btoa(r())}),[e,t]},ut=$t(),Kt=e=>l(ut.Provider,{get value(){return Wt()},get children(){return e.children}}),xe=()=>{const e=wt(ut);if(!e)throw new Error("useDb() could not find db context. Did you put AppDBProvider at the root of your component tree?");return e},Yt=e=>({...e.stack?{s:{...e.stack?.useFreeTier===!0?void 0:{f:!1},...e.stack?.containers?.length?{c:e.stack?.containers.map(t=>({...t.num===1?void 0:{n:t.num},...t.cpu===1?void 0:{c:t.cpu},...t.memory===256?void 0:{m:t.memory},...t.cpuType==="shared"?void 0:{ct:"d"},...Object.keys(t.addons).length===0?void 0:{a:t.addons.map(n=>n.type==="ipv4"?{t:"i",...n.num===1?void 0:{n:n.num}}:n.type==="ssd"?{t:"s",...n.size===1?void 0:{s:n.size}}:void 0).filter(n=>!!n)}}))}:void 0,...e.stack?.network?{n:{...e.stack.network.in===0?void 0:{i:e.stack.network.in},...e.stack.network.out===0?void 0:{o:e.stack.network.out}}}:void 0}}:void 0}),Vt=e=>({stack:{useFreeTier:e?.s?.f??!0,containers:(e?.s?.c??[]).map(t=>({num:t.n??1,cpu:t.c??1,cpuType:{s:"shared",d:"dedicated"}[t.ct??"s"],memory:t.m??256,addons:(t.a??[]).map(n=>n.t==="i"?{type:"ipv4",num:n.n??1}:n.t==="s"?{type:"ssd",size:n.s??1}:void 0).filter(n=>!!n)})),network:{in:e?.s?.n?.i??0,out:e?.s?.n?.o??0}}}),Qt=h('<select class="mx-2 text-black font-semibold bg-inherit border-b-slate-500 border-b"></select>'),Xt=h("<option></option>"),Jt=h('<input class="mx-2 text-black font-semibold border-b-slate-500 border-b" type="number">'),Zt=h('<button class="mx-2 hover:underline text-lime-700"></button>'),en=h('<button class="mx-2 text-red-600 float-right">[X]</button>'),tn=h('<li class="py-2 clear-both">A container with:<ol class="ml-4"><li>A<!>CPU with<!>core<!> and<!>MB memory.</li><li class="clear-both"></li></ol></li>'),nn=h('<li class="clear-both"></li>'),rn=h("<li>Unknown addon type: </li>"),on=h("<div></div>"),sn=h('<div class="my-4 text-slate-600"><ol class="mb-4"></ol><p>You expect to need<!>GB/mo network egress traffic across all containers. (None of the providers charge for incoming traffic.)</p><div class="p-4"><input type="checkbox" id="togglefreetier"><label class="select-none ml-1" for="togglefreetier">Include free-tier offerings in the estimation</label></div></div>'),cn=h("<p>Add container(s) to see estimated prices across a range of PaaS providers:</p>"),ln=e=>(()=>{const t=Qt.cloneNode(!0);return t.addEventListener("change",n=>e.onChange(n.target.value)),a(t,l(O,{get each(){return e.options},children:n=>(()=>{const r=Xt.cloneNode(!0);return r.value=n,a(r,n),U(()=>r.selected=e.selected===n),r})()})),t})(),re=e=>(()=>{const t=Jt.cloneNode(!0);return t.addEventListener("change",n=>e.onChange(parseInt(n.target.value,10))),U(n=>{const r=!!e.wide,i=!e.wide,o=e.value,s=e.step,c=e.min??e.step??1;return r!==n._v$&&t.classList.toggle("w-16",n._v$=r),i!==n._v$2&&t.classList.toggle("w-12",n._v$2=i),o!==n._v$3&&(t.value=n._v$3=o),s!==n._v$4&&ge(t,"step",n._v$4=s),c!==n._v$5&&ge(t,"min",n._v$5=c),n},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),t})(),Ce=e=>(()=>{const t=Zt.cloneNode(!0);return t.$$click=()=>e.onClick(),a(t,()=>e.children),t})(),Le=e=>(()=>{const t=en.cloneNode(!0);return it(t,"click",e.onClick,!0),t})(),an=e=>{const[t,n]=xe();return(()=>{const r=tn.cloneNode(!0),i=r.firstChild,o=i.nextSibling,s=o.firstChild,c=s.firstChild,u=c.nextSibling,p=u.nextSibling,d=p.nextSibling,f=d.nextSibling,y=f.nextSibling,w=y.nextSibling,S=w.nextSibling;S.nextSibling;const k=s.nextSibling;return a(r,l(Le,{onClick:()=>n("stack","containers",ne(m=>m.splice(e.index,1)))}),o),a(s,l(ln,{options:["shared","dedicated"],get selected(){return e.container.cpuType},onChange:m=>n("stack","containers",e.index,"cpuType",m)}),u),a(s,l(re,{get value(){return e.container.cpu},onChange:m=>n("stack","containers",e.index,"cpu",m)}),d),a(s,()=>e.container.cpu===1?"":"s",y),a(s,l(re,{get value(){return e.container.memory},onChange:m=>n("stack","containers",e.index,"memory",m),wide:!0,step:256}),S),a(o,l(O,{get each(){return e.container.addons},children:(m,$)=>(()=>{const g=nn.cloneNode(!0);return a(g,l(rt,{get fallback(){return(()=>{const b=rn.cloneNode(!0);return b.firstChild,a(b,()=>m.type,null),b})()},get children(){return[l(se,{get when(){return m.type==="ssd"},get children(){return["An SSD with",l(re,{get value(){return m.size},onChange:b=>n("stack","containers",e.index,"addons",$(),"size",b)}),"GB."]}}),l(se,{get when(){return m.type==="ipv4"},get children(){return[l(re,{get value(){return m.num},onChange:b=>n("stack","containers",e.index,"addons",$(),"num",b)}),"static IPv4 address(es)."]}})]}}),null),a(g,l(Le,{onClick:()=>n("stack","containers",e.index,"addons",ne(b=>b.splice($(),1)))}),null),g})()}),k),a(k,l(R,{get when(){return!e.container.addons.find(m=>m.type==="ipv4")},get children(){return l(Ce,{onClick:()=>n("stack","containers",e.index,"addons",ne(m=>m.push({type:"ipv4",num:1}))),children:"[+IPv4]"})}}),null),a(k,l(Ce,{onClick:()=>n("stack","containers",e.index,"addons",ne(m=>m.push({type:"ssd",size:1}))),children:"[+SSD]"}),null),r})()},dn=()=>{const[e,t]=xe();return(()=>{const n=on.cloneNode(!0);return a(n,l(Ce,{onClick:()=>t("stack","containers",ne(r=>r.push({cpu:1,cpuType:"shared",memory:256,addons:[],num:1}))),children:"[+Container]"})),n})()},un=()=>{const[e,t]=xe();return(()=>{const n=sn.cloneNode(!0),r=n.firstChild,i=r.nextSibling,o=i.firstChild,s=o.nextSibling;s.nextSibling;const c=i.nextSibling,u=c.firstChild;return a(r,l(O,{get each(){return e.stack.containers},get fallback(){return cn.cloneNode(!0)},children:(p,d)=>l(an,{container:p,get index(){return d()}})}),null),a(r,l(dn,{}),null),a(i,l(re,{get value(){return e.stack.network.out},onChange:p=>t("stack","network","out",p),min:0}),s),u.addEventListener("change",p=>t("stack","useFreeTier",Boolean(p.target.checked))),U(()=>u.checked=e.stack.useFreeTier),n})()};_e(["click"]);const pn=h('<span class="text-right w-20 inline-block">$</span>'),fn=24*30,mn=60*60*24*30,hn=60*24*30,E=e=>{const t=N(()=>H(e.value));return[(()=>{const n=pn.cloneNode(!0);return n.firstChild,a(n,()=>t().rate.toFixed(e.precision??2),null),n})(),B(()=>e.unit===""?"":"/"),B(()=>e.unit??t().period)]},D={rate:0,period:"mo"},H=e=>({rate:e?{sec:mn,min:hn,hr:fn,mo:1}[e.period]*e.rate:0,period:"mo"}),M=(e,t)=>({rate:H(e).rate+H(t).rate,period:"mo"}),Be=(e,t)=>({rate:H(e).rate*t,period:"mo"}),Ge=e=>{const t=[];for(let n=e.min||0;n<=e.max;n+=e.step)t.push(n);return t},pt=e=>typeof e?.rate=="number"&&["sec","min","hr","mo"].includes(e.period),ue=(e,t,n)=>pt(e)?Be(e,t):gn(e,t,n),gn=(e,t,n)=>{let r=D,i=t;for(let o of e){if(!n&&o.size!==1/0&&o.cost===D)continue;let s=Math.min(i,o.size);if(r=M(r,Be(o.cost,s)),i-=s,i===0)break}if(i!==0)throw new Error("Incomplete tiered cost");return r},Ue=e=>e?.rate===0,yn=(e,t)=>H(e).rate<H(t).rate?e:t,bn="Fly.io",$n={link:"https://fly.io/docs/about/pricing/",lastUpdated:"2022-09-26",container:[{name:"shared-cpu-1x-free",cpu:1,cpuType:"shared",memory:256,cost:{rate:0,period:"sec"},limit:3},{name:"shared-cpu-1x (256 MB)",cpu:1,cpuType:"shared",memory:256,cost:{rate:8e-7,period:"sec"}},{name:"shared-cpu-1x (512 MB)",cpu:1,cpuType:"shared",memory:512,cost:{rate:12e-7,period:"sec"}},{name:"shared-cpu-1x (1 GB)",cpu:1,cpuType:"shared",memory:1024,cost:{rate:22e-7,period:"sec"}},{name:"shared-cpu-1x (2 GB)",cpu:1,cpuType:"shared",memory:2048,cost:{rate:41e-7,period:"sec"}},{name:"dedicated-cpu-1x (2 GB)",cpu:1,cpuType:"dedicated",memory:2048,cost:{rate:12e-6,period:"sec"}},{name:"dedicated-cpu-1x (4 GB)",cpu:1,cpuType:"dedicated",memory:4096,cost:{rate:158e-7,period:"sec"}},{name:"dedicated-cpu-1x (8 GB)",cpu:1,cpuType:"dedicated",memory:8192,cost:{rate:235e-7,period:"sec"}},{name:"dedicated-cpu-2x (4 GB)",cpu:2,cpuType:"dedicated",memory:4096,cost:{rate:239e-7,period:"sec"}},{name:"dedicated-cpu-2x (8 GB)",cpu:2,cpuType:"dedicated",memory:8192,cost:{rate:355e-7,period:"sec"}},{name:"dedicated-cpu-2x (16 GB)",cpu:2,cpuType:"dedicated",memory:16384,cost:{rate:509e-7,period:"sec"}},{name:"dedicated-cpu-4x (8 GB)",cpu:4,cpuType:"dedicated",memory:8192,cost:{rate:478e-7,period:"sec"}},{name:"dedicated-cpu-4x (16 GB)",cpu:4,cpuType:"dedicated",memory:16384,cost:{rate:749e-7,period:"sec"}},{name:"dedicated-cpu-4x (32 GB)",cpu:4,cpuType:"dedicated",memory:32768,cost:{rate:1057e-7,period:"sec"}},{name:"dedicated-cpu-8x (16 GB)",cpu:8,cpuType:"dedicated",memory:16384,cost:{rate:957e-7,period:"sec"}},{name:"dedicated-cpu-8x (32 GB)",cpu:8,cpuType:"dedicated",memory:32768,cost:{rate:1536e-7,period:"sec"}},{name:"dedicated-cpu-8x (64 GB)",cpu:8,cpuType:"dedicated",memory:65536,cost:{rate:2153e-7,period:"sec"}}],storage:{persistentSsd:{rate:.15,period:"mo"}},net:{gbOut:[{cost:{rate:0,period:"mo"},size:160},{cost:{rate:.02,period:"mo"},size:1/0}]},staticIp:[{cost:{rate:0,period:"mo"},size:1},{cost:{rate:2,period:"mo"},size:1/0}]};var wn=Object.freeze(Object.defineProperty({__proto__:null,name:bn,priceSpec:$n},Symbol.toStringTag,{value:"Module"}));const _n="Render",xn={link:"https://render.com/pricing",lastUpdated:"2022-09-26",container:[{name:"Free",cpu:.5,cpuType:"shared",memory:512,cost:{rate:0,period:"mo"},limit:1},{name:"Starter",cpu:.5,cpuType:"dedicated",memory:512,cost:{rate:7,period:"mo"}},{name:"Starter Plus",cpu:1,cpuType:"dedicated",memory:1024,cost:{rate:15,period:"mo"}},{name:"Standard",cpu:1,cpuType:"dedicated",memory:2048,cost:{rate:25,period:"mo"}},{name:"Standard Plus",cpu:1.5,cpuType:"dedicated",memory:3072,cost:{rate:50,period:"mo"}},{name:"Pro",cpu:2,cpuType:"dedicated",memory:4096,cost:{rate:85,period:"mo"}},{name:"Pro Plus",cpu:4,cpuType:"dedicated",memory:8192,cost:{rate:175,period:"mo"}},{name:"Pro Max",cpu:4,cpuType:"dedicated",memory:16384,cost:{rate:225,period:"mo"}},{name:"Pro Ultra",cpu:8,cpuType:"dedicated",memory:32768,cost:{rate:450,period:"mo"}}],storage:{persistentSsd:{rate:.25,period:"mo"}},net:{gbOut:[{cost:{rate:0,period:"mo"},size:100},{cost:{rate:.1,period:"mo"},size:1/0}]}};var Sn=Object.freeze(Object.defineProperty({__proto__:null,name:_n,priceSpec:xn},Symbol.toStringTag,{value:"Module"}));const vn="DigitalOcean",kn={link:"https://www.digitalocean.com/pricing/app-platform",lastUpdated:"2022-09-29",container:[{name:"basic-1-512",cpu:1,cpuType:"shared",memory:512,cost:{rate:5,period:"mo"}},{name:"basic-1-1024",cpu:1,cpuType:"shared",memory:1024,cost:{rate:10,period:"mo"}},{name:"basic-1-2048",cpu:1,cpuType:"shared",memory:2048,cost:{rate:20,period:"mo"}},{name:"basic-2-4096",cpu:2,cpuType:"shared",memory:4096,cost:{rate:40,period:"mo"}},{name:"pro-1-1024",cpu:1,cpuType:"shared",memory:1024,cost:{rate:12,period:"mo"}},{name:"pro-1-2048",cpu:1,cpuType:"shared",memory:2048,cost:{rate:25,period:"mo"}},{name:"pro-2-4096",cpu:1,cpuType:"shared",memory:4096,cost:{rate:50,period:"mo"}},{name:"pro-dedicated-1-4096",cpu:1,cpuType:"dedicated",memory:4096,cost:{rate:75,period:"mo"}},{name:"pro-dedicated-2-8192",cpu:2,cpuType:"dedicated",memory:8192,cost:{rate:150,period:"mo"}},{name:"pro-dedicated-4-16384",cpu:4,cpuType:"dedicated",memory:16384,cost:{rate:300,period:"mo"}}],net:{gbOut:{rate:.1,period:"mo"}},storage:{persistentSsd:{rate:.1,period:"mo"}}};var Tn=Object.freeze(Object.defineProperty({__proto__:null,name:vn,priceSpec:kn},Symbol.toStringTag,{value:"Module"}));const Cn="Aptible",Pn={link:"https://www.aptible.com/pricing-plans",lastUpdated:"2022-09-30",freeCredits:500,container:[{name:"flex-1gb",cpu:1,cpuType:"dedicated",memory:1*1024,cost:{rate:1*.08,period:"hr"}},{name:"flex-2gb",cpu:2,cpuType:"dedicated",memory:2*1024,cost:{rate:2*.08,period:"hr"}},{name:"flex-4gb",cpu:4,cpuType:"dedicated",memory:4*1024,cost:{rate:4*.08,period:"hr"}},{name:"flex-6gb",cpu:6,cpuType:"dedicated",memory:6*1024,cost:{rate:6*.08,period:"hr"}},{name:"flex-8gb",cpu:8,cpuType:"dedicated",memory:8*1024,cost:{rate:8*.08,period:"hr"}},{name:"flex-12gb",cpu:12,cpuType:"dedicated",memory:12*1024,cost:{rate:12*.08,period:"hr"}},{name:"flex-16gb",cpu:16,cpuType:"dedicated",memory:16*1024,cost:{rate:16*.08,period:"hr"}},{name:"flex-32gb",cpu:32,cpuType:"dedicated",memory:32*1024,cost:{rate:32*.08,period:"hr"}},{name:"flex-64gb",cpu:64,cpuType:"dedicated",memory:64*1024,cost:{rate:64*.08,period:"hr"}},{name:"flex-128gb",cpu:128,cpuType:"dedicated",memory:128*1024,cost:{rate:128*.08,period:"hr"}}],net:{},storage:{persistentSsd:{rate:.2,period:"mo"}},staticIp:{rate:37,period:"mo"}};var An=Object.freeze(Object.defineProperty({__proto__:null,name:Cn,priceSpec:Pn},Symbol.toStringTag,{value:"Module"}));const On="AWS Fargate",Nn={link:"https://aws.amazon.com/fargate/pricing/",lastUpdated:"2022-09-30",container:[{cpu:.25,cpuType:"shared",memory:[512,1024,2048],name:e=>`${e.cpu}-cpu ${e.memory/1024}gb`,cost:e=>({period:"hr",rate:.04048*e.cpu+.004445*(e.memory/1024)})},{cpu:.5,cpuType:"shared",memory:{min:1024,max:4*1024,step:1024},name:e=>`${e.cpu}-cpu ${e.memory/1024}gb`,cost:e=>({period:"hr",rate:.04048*e.cpu+.004445*(e.memory/1024)})},{cpu:1,cpuType:"dedicated",memory:{min:2*1024,max:8*1024,step:1024},name:e=>`${e.cpu}-cpu ${e.memory/1024}gb`,cost:e=>({period:"hr",rate:.04048*e.cpu+.004445*(e.memory/1024)})},{cpu:2,cpuType:"dedicated",memory:{min:4*1024,max:16*1024,step:1024},name:e=>`${e.cpu}-cpu ${e.memory/1024}gb`,cost:e=>({period:"hr",rate:.04048*e.cpu+.004445*(e.memory/1024)})},{cpu:4,cpuType:"dedicated",memory:{min:8*1024,max:30*1024,step:1024},name:e=>`${e.cpu}-cpu ${e.memory/1024}gb`,cost:e=>({period:"hr",rate:.04048*e.cpu+.004445*(e.memory/1024)})},{cpu:8,cpuType:"dedicated",memory:{min:16*1024,max:60*1024,step:4*1024},name:e=>`${e.cpu}-cpu ${e.memory/1024}gb`,cost:e=>({period:"hr",rate:.04048*e.cpu+.004445*(e.memory/1024)})},{cpu:16,cpuType:"dedicated",memory:{min:32*1024,max:120*1024,step:8*1024},name:e=>`${e.cpu}-cpu ${e.memory/1024}gb`,cost:e=>({period:"hr",rate:.04048*e.cpu+.004445*(e.memory/1024)})}],net:{gbOut:[{size:100,cost:{rate:0,period:"mo"}},{size:10*1024-100,cost:{rate:.09,period:"mo"}},{size:40*1024,cost:{rate:.085,period:"mo"}},{size:100*1024,cost:{rate:.07,period:"mo"}},{size:1/0,cost:{rate:.05,period:"mo"}}]},storage:{persistentSsd:{rate:.1,period:"mo"}},staticIp:[{cost:{rate:0,period:"hr"},size:1},{cost:{rate:.005,period:"hr"},size:1/0}]};var In=Object.freeze(Object.defineProperty({__proto__:null,name:On,priceSpec:Nn},Symbol.toStringTag,{value:"Module"}));const En="GCP CloudRun",Dn={link:"https://cloud.google.com/run#section-13",lastUpdated:"2022-10-01",container:[{cpu:[1,2,4,6,8],cpuType:"dedicated",memory:[128,256,512,1024,2*1024,4*1024,8*1024,16*1024,32*1024],name:e=>`${e.cpu}-cpu ${e.memory/1024}gb`,cost:e=>({period:"sec",rate:18e-6*e.cpu+2e-6*(e.memory/1024)})}],net:{gbOut:[{cost:{rate:0,period:"mo"},size:1},{cost:{rate:.12,period:"mo"},size:1024-1},{cost:{rate:.11,period:"mo"},size:9*1024},{cost:{rate:.08,period:"mo"},size:1/0}]},storage:{persistentSsd:[{cost:{rate:0,period:"mo"},size:30},{cost:{rate:.02,period:"mo"},size:1/0}]}};var Bn=Object.freeze(Object.defineProperty({__proto__:null,name:En,priceSpec:Dn},Symbol.toStringTag,{value:"Module"}));const Un="Heroku",Fn={link:"https://www.heroku.com/pricing",lastUpdated:"2022-10-01",container:[{name:"free",cpu:1,cpuType:"shared",memory:512,cost:{rate:0,period:"mo"},limit:2},{name:"hobby",cpu:1,cpuType:"shared",memory:512,cost:{rate:7,period:"mo"}},{name:"standard-1x",cpu:1,cpuType:"shared",memory:512,cost:{rate:25,period:"mo"}},{name:"standard-2x",cpu:2,cpuType:"shared",memory:1024,cost:{rate:50,period:"mo"}},{name:"performance-m",cpu:1,cpuType:"dedicated",memory:2.5*1024,cost:{rate:250,period:"mo"}},{name:"performance-l",cpu:1,cpuType:"dedicated",memory:14*1024,cost:{rate:500,period:"mo"}}],net:{},storage:{}};var zn=Object.freeze(Object.defineProperty({__proto__:null,name:Un,priceSpec:Fn},Symbol.toStringTag,{value:"Module"}));const Mn="Railway",jn={link:"https://railway.app/pricing",lastUpdated:"2022-10-02",freeCreditsMonthly:{rate:5,period:"mo"},container:[{cpu:{min:.1,max:1,step:.1},cpuType:"shared",memory:{min:1024,max:8*1024,step:1024},name:e=>`${e.cpu.toFixed(1)}-cpu ${e.memory/1024}gb`,cost:e=>({period:"min",rate:e.cpu*463e-6+e.memory/1024*231e-6})},{cpu:{min:1,max:32,step:1},cpuType:"dedicated",memory:{min:1024,max:32*1024,step:1024},name:e=>`${e.cpu}-cpu ${e.memory/1024}gb`,cost:e=>({period:"min",rate:e.cpu*463e-6+e.memory/1024*231e-6})}],net:{},storage:{}};var Ln=Object.freeze(Object.defineProperty({__proto__:null,name:Mn,priceSpec:jn},Symbol.toStringTag,{value:"Module"}));const Gn=e=>({lastUpdated:e.lastUpdated,link:e.link,storage:{persistentSsd:D,...e.storage},net:{gbIn:D,gbOut:D,...e.net},staticIp:e.staticIp||D,freeCredits:e.freeCredits??0,freeCreditsMonthly:e.freeCreditsMonthly??D,container:e.container?.flatMap(t=>{const n=[];for(let r of Array.isArray(t.cpu)?t.cpu:typeof t.cpu=="number"?[t.cpu]:Ge(t.cpu))for(let i of Array.isArray(t.memory)?t.memory:typeof t.memory=="number"?[t.memory]:Ge(t.memory)){const o={cpu:r,cpuType:t.cpuType,memory:i,limit:t.limit??1/0};n.push({...o,name:typeof t.name=="function"?t.name(o):t.name,cost:typeof t.cost=="function"?t.cost(o):t.cost})}return n})??[]}),z=e=>({...e,prices:Gn(e.priceSpec)}),ce={fly:z(wn),do:z(Tn),aptible:z(An),railway:z(Ln),render:z(Sn),heroku:z(zn),fargate:z(In),gcp:z(Bn)},Rn=(e,t)=>{const n=t.network.in,r=t.network.out,i=0,o=0,s=ue(e.prices.net.gbIn,n??0,t.useFreeTier),c=ue(e.prices.net.gbOut,r??0,t.useFreeTier),u=M(s,c),p=[],d=[];let f=D;for(let m of t.containers){const $=e.prices.container.find(g=>(g.limit===1/0||p.filter(b=>b.name===g.name).length<g.limit)&&g.memory>=m.memory&&(m.cpuType==="shared"?g.cpu>=m.cpu||g.cpu<1&&m.cpu===1:g.cpuType==="dedicated"&&g.cpu>=m.cpu)&&(t.useFreeTier?!0:!(g.limit&&Ue(g.cost))));if($){const g=H($.cost),b=[],P=[];let C=D;for(let F of m.addons)if(F.type==="ssd"){const J=ue(e.prices.storage.persistentSsd,F.size,t.useFreeTier);C=M(C,J),b.push({type:"ssd",size:F.size,desired:F,price:J})}else if(F.type==="ipv4"){const J=ue(e.prices.staticIp,F.num,t.useFreeTier);C=M(C,J),b.push({type:"ipv4",num:F.num,desired:F,price:J})}else P.push(F);const ae=M(g,C);p.push({name:$.name,num:1,cpu:$.cpu,cpuType:$.cpuType==="shared"?"shared":"dedicated",memory:$.memory,addons:b,unfulfilledAddons:P,desired:m,basePrice:g,addonsPrice:C,totalPrice:ae}),f=M(f,ae)}else d.push(m)}const y=M(u,f),w=t.useFreeTier?yn(e.prices.freeCreditsMonthly,y):D,S=M(y,Be(w,-1)),k=(t.useFreeTier?e.prices.freeCredits:0)/S.rate;return{desired:t,provider:e,totalPrice:y,adjustedTotalPrice:S,freeCreditsUsed:w,freeMonths:k,containers:{desired:t.containers,fulfilled:p,unfulfilled:d,totalPrice:f},network:{desired:t.network,netIn:n,netOut:r,unfulfilledNetIn:i,unfulfilledNetOut:o,netInPrice:s,netOutPrice:c,totalPrice:u}}},Hn=h('<h2 class="text-xl m-2 mt-4 text-center">Summary</h2>'),qn=h(`<p class="text-slate-600">Click providers' names to see a detailed cost breakdown below.</p>`),Wn=h('<h2 class="text-xl m-2 mt-4 text-center">Cost Breakdown</h2>'),Kn=h('<p class="text-slate-600">Itemized breakdown of the prices summarized above. Quantities are rounded to nearest cent.</p>'),Yn=h(`<p class="text-slate-600 mb-4">Click a provider's name above to see detailed cost breakdowns here!</p>`),Vn=h('<div class="ml-32 my-2 cursor-pointer"><div class="inline-block align-top w-28"></div><div class="list-decimal inline-block"> </div></div>'),Qn=h('<div class="my-4"><div class="inline-block align-top w-1/5 border-b border-b-slate-400"></div><ol class="inline-block w-4/5"><li class="border-b border-b-slate-400"></li><li> - Network egress (<!> GiB/mo)</li></ol></div>'),Xn=h("<li>Unable to fulfill desired container specification.</li>"),Jn=h("<ol></ol>"),Zn=h("<li>-<!> - Monthly free-tier credit</li>"),er=h("<li> - <!> (cpu: <!>, mem: <!>)</li>"),tr=h("<li> - </li>"),nr=()=>{const[e,t]=xe(),n=Object.keys(ce),r=N(()=>n.map(s=>({providerId:s,provider:ce[s],fulfilled:Rn(ce[s],e.stack)}))),[i,o]=at({});return[l(un,{}),Hn.cloneNode(!0),qn.cloneNode(!0),l(O,{get each(){return r()},children:s=>l(rr,nt(s,{get faded(){return Object.keys(i).length!==0&&!i[s.providerId]},onClick:()=>o(s.providerId,c=>c?void 0:!0)}))}),Wn.cloneNode(!0),l(R,{get when(){return Object.keys(i).length>0},get fallback(){return Yn.cloneNode(!0)},get children(){return[Kn.cloneNode(!0),l(O,{get each(){return r()},children:s=>l(R,{get when(){return i[s.providerId]},get children(){return l(ir,s)}})})]}})]},rr=e=>(()=>{const t=Vn.cloneNode(!0),n=t.firstChild,r=n.nextSibling,i=r.firstChild;return it(t,"click",e.onClick,!0),a(n,()=>e.provider.name),a(r,l(E,{get value(){return e.fulfilled.adjustedTotalPrice}}),i),a(r,(()=>{const o=B(()=>!!(e.fulfilled.freeMonths&&e.fulfilled.freeMonths!==1/0),!0);return()=>o()&&`(${e.fulfilled.freeMonths.toFixed(1)} free months)`})(),null),U(()=>t.classList.toggle("text-slate-400",!!e.faded)),t})(),ir=e=>(()=>{const t=Qn.cloneNode(!0),n=t.firstChild,r=n.nextSibling,i=r.firstChild,o=i.nextSibling,s=o.firstChild,c=s.nextSibling;return c.nextSibling,a(n,()=>e.provider.name),a(i,l(E,{get value(){return e.fulfilled.adjustedTotalPrice}})),a(o,l(E,{get value(){return e.fulfilled.network.netOutPrice}}),s),a(o,()=>e.fulfilled.network.netOut,c),a(r,l(O,{get each(){return e.fulfilled.containers.unfulfilled},children:u=>Xn.cloneNode(!0)}),null),a(r,l(O,{get each(){return e.fulfilled.containers.fulfilled},children:u=>(()=>{const p=er.cloneNode(!0),d=p.firstChild,f=d.nextSibling,y=f.nextSibling,w=y.nextSibling,S=w.nextSibling,k=S.nextSibling;return k.nextSibling,a(p,l(E,{get value(){return u.basePrice}}),d),a(p,()=>u.name,f),a(p,()=>u.cpu,w),a(p,()=>u.memory>1024?`${u.memory/1024}gb`:`${u.memory}mb`,k),a(p,l(R,{get when(){return u.addons},get children(){const m=Jn.cloneNode(!0);return a(m,l(O,{get each(){return u.addons},children:$=>(()=>{const g=tr.cloneNode(!0),b=g.firstChild;return a(g,l(E,{get value(){return $.price}}),b),a(g,()=>$.type==="ipv4"?`${$.num} static IPv4 address${$.num===1?"":"es"}`:`${$.size} GiB persistent SSD`,null),g})()})),m}}),null),a(p,l(R,{get when(){return!Ue(e.fulfilled.freeCreditsUsed)},get children(){const m=Zn.cloneNode(!0),$=m.firstChild,g=$.nextSibling;return g.nextSibling,a(m,l(E,{get value(){return e.fulfilled.freeCreditsUsed}}),g),m}}),null),p})()}),null),t})();_e(["click"]);const or=h('<p class="ml-6"> :: First </p>'),ft=h('<p class="ml-6"> :: </p>'),Re=h('<p><span class="w-32 inline-block">Free credits</span></p>'),sr=h('<div class="my-6"><h2 class="text-slate-600"><a target="_blank" rel="noreferrer" class="text-xl text-indigo-600 underline mr-2"></a>(prices last updated: <!>)</h2><p><span class="w-32 inline-block">Persistent SSD</span></p><p><span class="w-32 inline-block">Network out</span></p><p><span class="w-32 inline-block">Static IP</span></p><p><span class="w-32 inline-block">Container tiers</span></p></div>'),cr=h(`<p class="text-slate-600">This page lists the pricing tables that PaaS Price Estimator uses when calculating estimates. Click the providers' names to open their pricing pages in a new tab.</p>`),lr=e=>{if(e.value.length===0)return;const t=e.value[0];return[(()=>{const n=or.cloneNode(!0),r=n.firstChild;return a(n,l(E,{get value(){return t.cost},get unit(){return e.unit}}),r),a(n,()=>t.size,null),a(n,()=>e.unit&&` ${e.unit}`,null),n})(),l(O,{get each(){return e.value.slice(1)},children:n=>(()=>{const r=ft.cloneNode(!0),i=r.firstChild;return a(r,l(E,{get value(){return n.cost},get unit(){return e.unit}}),i),a(r,(()=>{const o=B(()=>n.size===1/0,!0);return()=>o()?["Further ",B(()=>e.unit??"GiB"),"s"]:["Next ",B(()=>n.size)," ",B(()=>e.unit??"GiB")]})(),null),r})()})]},ee=e=>B((()=>{const t=B(()=>!!pt(e.value),!0);return()=>t()?l(E,{get value(){return e.value},get unit(){return e.unit}}):l(lr,{get value(){return e.value},get unit(){return e.unit}})})()),ar=e=>(()=>{const t=sr.cloneNode(!0),n=t.firstChild,r=n.firstChild,i=r.nextSibling,o=i.nextSibling;o.nextSibling;const s=n.nextSibling;s.firstChild;const c=s.nextSibling;c.firstChild;const u=c.nextSibling;return u.firstChild,u.nextSibling,a(r,()=>e.name),a(n,()=>e.prices.lastUpdated,o),a(t,l(R,{get when(){return e.prices.freeCredits},get children(){const p=Re.cloneNode(!0);return p.firstChild,a(p,l(ee,{get value(){return{rate:e.prices.freeCredits,period:"mo"}},unit:""}),null),p}}),s),a(t,l(R,{get when(){return!Ue(e.prices.freeCreditsMonthly)},get children(){const p=Re.cloneNode(!0);return p.firstChild,a(p,l(ee,{get value(){return e.prices.freeCreditsMonthly},unit:"mo"}),null),p}}),s),a(s,l(ee,{get value(){return e.prices.storage.persistentSsd},unit:"GiB-mo"}),null),a(c,l(ee,{get value(){return e.prices.net.gbOut},unit:"GiB"}),null),a(u,l(ee,{get value(){return e.prices.staticIp},unit:"IP"}),null),a(t,l(O,{get each(){return e.prices.container},children:p=>(()=>{const d=ft.cloneNode(!0),f=d.firstChild;return a(d,l(E,{get value(){return p.cost}}),f),a(d,()=>p.name,null),d})()}),null),U(()=>ge(r,"href",e.prices.link)),t})(),dr=()=>[cr.cloneNode(!0),l(O,{get each(){return Object.keys(ce)},children:e=>l(ar,nt(()=>ce[e]))})],ur=h('<div class="container mx-auto px-4 max-w-xl border-t-8 border-t-slate-400"><h1 class="text-2xl m-2 text-center">PaaS Price Estimator</h1><div class="text-center"><button>main</button> / <button>tables</button> / <button>about</button></div><div class="text-center text-slate-600 mt-12">Copyright 2022 Luke Turner -- MIT Licensed</div><div class="text-center text-slate-600"><a class="underline" href="https://github.com/luketurner/paas-price-estimator">View source on Github</a></div></div>'),pr=()=>{const[e,t]=Ae("main");return l(Kt,{get children(){const n=ur.cloneNode(!0),r=n.firstChild,i=r.nextSibling,o=i.firstChild,s=o.nextSibling,c=s.nextSibling,u=c.nextSibling,p=u.nextSibling,d=i.nextSibling;return o.$$click=()=>t("main"),c.$$click=()=>t("tables"),p.$$click=()=>t("about"),a(n,l(rt,{get children(){return[l(se,{get when(){return e()==="about"},get children(){return l(zt,{})}}),l(se,{get when(){return e()==="tables"},get children(){return l(dr,{})}}),l(se,{get when(){return e()==="main"},get children(){return l(nr,{})}})]}}),d),U(f=>{const y=e()==="main",w=e()==="main",S=e()==="tables",k=e()==="tables",m=e()==="about",$=e()==="about";return y!==f._v$&&(o.disabled=f._v$=y),w!==f._v$2&&o.classList.toggle("text-slate-500",f._v$2=w),S!==f._v$3&&(c.disabled=f._v$3=S),k!==f._v$4&&c.classList.toggle("text-slate-500",f._v$4=k),m!==f._v$5&&(p.disabled=f._v$5=m),$!==f._v$6&&p.classList.toggle("text-slate-500",f._v$6=$),f},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),n}})};_e(["click"]);At(()=>l(pr,{}),document.getElementById("root"));
